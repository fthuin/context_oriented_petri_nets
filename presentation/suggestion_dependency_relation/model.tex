\begin{frame}[noframenumbering]
	\frametitle{Suggestion dependency relation}
	\begin{figure}[!ht]
		\scriptsize
		\centering
		\begin{tikzpicture}[node distance=1.5cm, >=stealth',bend angle=45,auto]
			% M part
			\node[transition,label=above:req(M)] (t1) {};
			\node[dplace,right of=t1,tokens=0,label=below:Pr(M)] (p1) {};
			\node[btransition, right of=p1,		label=above:act(M)] (t2) {};
			\node[place, right of=t2,tokens=0,label=above:M] (p2) {};
			\node[transition, right of=p2,		label=above:req($\lnot$M)] (t3) {};
			\node[dplace,right of=t3,tokens=0,label=above:Pr($\lnot$M)] (p3) {};
			\node[btransition, right of=p3,		label=below:deac$_1$(M)] (t4) {};

			\path[-latex] (t1) edge node {} (p1);
			\path[-latex] (p1) edge node {} (t2);
			\path[-latex] (t2) edge node {} (p2);
			\path[-latex] (p2) edge[bend left=45] node {} (t4);
			\path[-latex] (t3) edge node {} (p3);
			\path[-latex] (p3) edge node {} (t4);

			% Q part
			\node[transition,below=2cm of t1,label=below:req(Q)] (t5) {};
			\node[dplace,right of=t5,tokens=0,label=below:Pr(Q)] (p4) {};
			\node[btransition, right of=p4,		label=above:act(Q)] (t6) {};
			\node[place, right of=t6,tokens=0,label=below:Q] (p5) {};
			\node[transition, right of=p5,		label=below:req($\lnot$Q)] (t7) {};
			\node[dplace,right of=t7,tokens=0,label=below:Pr($\lnot$Q)] (p6) {};
			\node[btransition, right of=p6,		label=above:deac(Q)] (t8) {};

			\path[-latex] (t5) edge node {} (p4);
			\path[-latex] (p4) edge node {} (t6);
			\path[-latex] (t6) edge node {} (p5);
			\path[-latex] (p5) edge[bend right=45] node {} (t8);
			\path[-latex] (t7) edge node {} (p6);
			\path[-latex] (p6) edge node {} (t8);

			% N part
			\node[transition,below=2cm of t5,label=below:req(N)] (t9) {};
			\node[dplace,right of=t9,tokens=0,label=below:Pr(N)] (p7) {};
			\node[btransition, right of=p7,		label=below:act(N)] (t10) {};
			\node[place, right of=t10,tokens=0,label=below:N] (p8) {};
			\node[transition, right of=p8,		label=below:req($\lnot$N)] (t11) {};
			\node[dplace,right of=t11,tokens=0,label=below:Pr($\lnot$N)] (p9) {};
			\node[btransition, right of=p9,		label=above:deac(N)] (t12) {};

			\path[-latex] (t9) edge node {} (p7);
			\path[-latex] (p7) edge node {} (t10);
			\path[-latex] (t10) edge node {} (p8);
			\path[-latex] (p8) edge[bend right=45] node {} (t12);
			\path[-latex] (t11) edge node {} (p9);
			\path[-latex] (p9) edge node {} (t12);

			% Relations between contexts
			\node[gtransition, below = 1cm of t1, label=above:cl(Pr(Q))] (t13) {};
			\node[btransition, below = 0.75cm of t3, label=left:deac$_2$(M)] (t14) {};

			\path[-latex] (t2) edge node {} (p4);
			\path[-latex] (p2) edge node {} (t14);
			\path[-latex] (p3) edge node {} (t14);
			\path[-latex] (t4) edge node {} (p5);
			\path[-latex] (p5) edge node {} (t4);
			\path[-latex] (t4) edge node {} (p6);
			\path[-latex] (p4) edge node {} (t13);
			\path[-o] (p5) edge node {} (t14);
			\path[-o] (p5) edge node {} (t10);
			\path[-o] (p8) edge node {} (t6);
		\end{tikzpicture}
	\end{figure}
\end{frame}
